"use strict";(self.webpackChunkangular_demo_app=self.webpackChunkangular_demo_app||[]).push([[738],{8738:(N,u,p)=>{p.r(u),p.d(u,{SearchModule:()=>F});var a=p(8583),d=p(1383),n=p(639),l=p(1841),s=p(665);let g=(()=>{class t{constructor(){}nonePic(e){e.target.src="assets/image/none-pic.jpg"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-card-basic"]],inputs:{product:"product"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),t})(),m=(()=>{class t extends g{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-card"]],features:[n.qOj],decls:9,vars:5,consts:[[1,"card"],[3,"src","alt","error"],[1,"info"],[1,"price"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"img",1),n.NdJ("error",function(c){return o.nonePic(c)}),n.qZA(),n.TgZ(2,"div",2),n.TgZ(3,"h4"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.qZA(),n.TgZ(7,"p",3),n._uU(8),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.s9C("alt",o.product.name),n.Q6J("src",o.product.imageUrl,n.LSH),n.xp6(3),n.Oqu(o.product.name),n.xp6(2),n.Oqu(o.product.category),n.xp6(2),n.hij("$",o.product.price,""))},styles:[".card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:6px;padding:12px;cursor:pointer;transition:box-shadow .3s;display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:4px;margin-bottom:8px}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;text-align:center}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:16px}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#666}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#1890ff;font-weight:700;margin-top:6px}.card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 10px #1890ff4d}"]}),t})(),C=(()=>{class t extends g{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-card-large"]],features:[n.qOj],decls:11,vars:6,consts:[[1,"card-large"],[3,"src","alt","error"],[1,"info"],[1,"desc"],[1,"price"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"img",1),n.NdJ("error",function(c){return o.nonePic(c)}),n.qZA(),n.TgZ(2,"div",2),n.TgZ(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.qZA(),n.TgZ(7,"p",3),n._uU(8),n.qZA(),n.TgZ(9,"p",4),n._uU(10),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.s9C("alt",o.product.name),n.Q6J("src",o.product.imageUrl,n.LSH),n.xp6(3),n.Oqu(o.product.name),n.xp6(2),n.Oqu(o.product.category),n.xp6(2),n.Oqu(o.product.description),n.xp6(2),n.hij("$",o.product.price,""))},styles:[".card-large[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:6px;display:flex;grid-gap:12px;gap:12px;padding:12px;cursor:pointer;transition:box-shadow .3s}.card-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:4px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:4px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#1890ff;font-weight:700;margin-top:8px}.card-large[_ngcontent-%COMP%]:hover{box-shadow:0 2px 10px #1890ff4d}"]}),t})(),x=(()=>{class t extends g{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-list-item"]],features:[n.qOj],decls:11,vars:6,consts:[[1,"card-large"],[3,"src","alt","error"],[1,"info"],[1,"desc"],[1,"price"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"img",1),n.NdJ("error",function(c){return o.nonePic(c)}),n.qZA(),n.TgZ(2,"div",2),n.TgZ(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.qZA(),n.TgZ(7,"p",3),n._uU(8),n.qZA(),n.TgZ(9,"p",4),n._uU(10),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.s9C("alt",o.product.name),n.Q6J("src",o.product.imageUrl,n.LSH),n.xp6(3),n.Oqu(o.product.name),n.xp6(2),n.Oqu(o.product.category),n.xp6(2),n.Oqu(o.product.description),n.xp6(2),n.hij("$",o.product.price,""))},styles:[".card-large[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:6px;display:flex;grid-gap:12px;gap:12px;padding:12px;cursor:pointer;transition:box-shadow .3s}.card-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:4px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:4px}.card-large[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#1890ff;font-weight:700;margin-top:8px}.card-large[_ngcontent-%COMP%]:hover{box-shadow:0 2px 10px #1890ff4d}"]}),t})(),f=(()=>{class t extends g{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-mini"]],features:[n.qOj],decls:6,vars:5,consts:[[1,"mini-card",3,"title"],[3,"src","alt","error"],[1,"name"],[1,"price"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"img",1),n.NdJ("error",function(c){return o.nonePic(c)}),n.qZA(),n.TgZ(2,"p",2),n._uU(3),n.qZA(),n.TgZ(4,"p",3),n._uU(5),n.qZA(),n.qZA()),2&e&&(n.s9C("title",o.product.name),n.xp6(1),n.s9C("alt",o.product.name),n.Q6J("src",o.product.imageUrl,n.LSH),n.xp6(2),n.Oqu(o.product.name),n.xp6(2),n.hij("$",o.product.price,""))},styles:[".mini-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:6px;padding:8px;cursor:pointer;text-align:center;transition:box-shadow .3s}.mini-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:4px;margin-bottom:6px}.mini-card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;margin:0;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.mini-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#1890ff;margin:4px 0 0}.mini-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 10px #1890ff4d}"]}),t})();function h(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"\u{1f7e6} "),n.qZA())}function O(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"\u{1f7e8} "),n.qZA())}function P(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"\u{1f7e5} "),n.qZA())}function M(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"\u2b1b\ufe0f "),n.qZA())}function w(t,r){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",3),n.NdJ("click",function(){const c=n.CHM(e).$implicit;return n.oxw().setView(c.key)}),n.YNc(2,h,2,0,"span",12),n.YNc(3,O,2,0,"span",12),n.YNc(4,P,2,0,"span",12),n.YNc(5,M,2,0,"span",12),n.TgZ(6,"span"),n._uU(7),n.qZA(),n.qZA(),n.BQk()}if(2&t){const e=r.$implicit,o=n.oxw();n.xp6(1),n.ekj("active",o.viewType===e.key),n.xp6(1),n.Q6J("ngIf","blue"===e.icon),n.xp6(1),n.Q6J("ngIf","yellow"===e.icon),n.xp6(1),n.Q6J("ngIf","red"===e.icon),n.xp6(1),n.Q6J("ngIf","black"===e.icon),n.xp6(2),n.Oqu(e.name)}}function Z(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"app-product-card",15),n.NdJ("click",function(){const c=n.CHM(e).$implicit;return n.oxw(2).goDetail(c.id)}),n.qZA()}2&t&&n.Q6J("product",r.$implicit)}function T(t,r){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,Z,1,1,"app-product-card",14),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.product)}}function v(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"app-product-card-large",15),n.NdJ("click",function(){const c=n.CHM(e).$implicit;return n.oxw(2).goDetail(c.id)}),n.qZA()}2&t&&n.Q6J("product",r.$implicit)}function b(t,r){if(1&t&&(n.TgZ(0,"div",16),n.YNc(1,v,1,1,"app-product-card-large",14),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.product)}}function y(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"app-product-list-item",15),n.NdJ("click",function(){const c=n.CHM(e).$implicit;return n.oxw(2).goDetail(c.id)}),n.qZA()}2&t&&n.Q6J("product",r.$implicit)}function q(t,r){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,y,1,1,"app-product-list-item",14),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.product)}}function S(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"app-product-mini",15),n.NdJ("click",function(){const c=n.CHM(e).$implicit;return n.oxw(2).goDetail(c.id)}),n.qZA()}2&t&&n.Q6J("product",r.$implicit)}function A(t,r){if(1&t&&(n.TgZ(0,"div",18),n.YNc(1,S,1,1,"app-product-mini",14),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.product)}}const J=[{path:"",component:(()=>{class t{constructor(e,o){this.router=e,this.http=o,this.keyword="",this.selectedCategory="",this.viewType="grid4",this.viewTypeList=[{key:"grid4",icon:"blue",name:"\u56db\u6b04\u683c"},{key:"grid3",icon:"yellow",name:"\u4e09\u6b04\u683c"},{key:"list",icon:"red",name:"\u689d\u5217\u5f0f"},{key:"mini",icon:"black",name:"\u7e2e\u5716"}],this._product=[],this.product=[]}search(){const e=this.keyword.toLowerCase();this.product=this._product.filter(o=>o.name.toLowerCase().includes(e)&&(!this.selectedCategory||o.category===this.selectedCategory))}setView(e){this.viewType=e}reset(){this.keyword="",this.selectedCategory="",this.product=this._product}goDetail(e){this.router.navigate(["/products",e])}ngOnInit(){this.http.get("/api/products").subscribe(e=>{this._product=e,this.product=e})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.F0),n.Y36(l.eN))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-search"]],decls:14,vars:7,consts:[[1,"search-container"],[1,"search-bar","search-panel"],["placeholder","\u8f38\u5165\u7522\u54c1\u540d\u7a31\u6216\u5206\u985e...",3,"ngModel","ngModelChange"],[3,"click"],[1,"reset",3,"click"],[1,"view-switcher"],[4,"ngFor","ngForOf"],[1,"result-container",3,"ngSwitch"],["class","product-grid grid4",4,"ngSwitchCase"],["class","product-grid grid3",4,"ngSwitchCase"],["class","product-list",4,"ngSwitchCase"],["class","product-grid mini",4,"ngSwitchCase"],[4,"ngIf"],[1,"product-grid","grid4"],[3,"product","click",4,"ngFor","ngForOf"],[3,"product","click"],[1,"product-grid","grid3"],[1,"product-list"],[1,"product-grid","mini"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"input",2),n.NdJ("ngModelChange",function(c){return o.keyword=c}),n.qZA(),n.TgZ(3,"button",3),n.NdJ("click",function(){return o.search()}),n._uU(4,"\u641c\u5c0b"),n.qZA(),n.TgZ(5,"button",4),n.NdJ("click",function(){return o.reset()}),n._uU(6,"\u91cd\u7f6e"),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.YNc(8,w,8,7,"ng-container",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,T,2,1,"div",8),n.YNc(11,b,2,1,"div",9),n.YNc(12,q,2,1,"div",10),n.YNc(13,A,2,1,"div",11),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngModel",o.keyword),n.xp6(6),n.Q6J("ngForOf",o.viewTypeList),n.xp6(1),n.Q6J("ngSwitch",o.viewType),n.xp6(1),n.Q6J("ngSwitchCase","grid4"),n.xp6(1),n.Q6J("ngSwitchCase","grid3"),n.xp6(1),n.Q6J("ngSwitchCase","list"),n.xp6(1),n.Q6J("ngSwitchCase","mini"))},directives:[s.Fj,s.JJ,s.On,a.sg,a.RF,a.n9,a.O5,m,C,x,f],styles:[".search-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:20px}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:20px}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:8px 12px;font-size:14px;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .3s}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1890ff}@media (max-width: 400px){.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%}}.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:8px;gap:8px;margin-bottom:20px;justify-content:flex-start}.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #ccc;background:white;color:#555;font-size:16px;padding:6px 12px;border-radius:4px;cursor:pointer;transition:all .3s;min-width:80px;flex:1 0 auto}.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1890ff;color:#fff;border-color:#1890ff}.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background:#e6f7ff}@media (max-width: 600px){.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]{justify-content:center}.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 40%;font-size:14px;padding:8px}}@media (max-width: 400px){.search-container[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 100%;font-size:14px;padding:10px}}.search-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{min-height:300px}.search-container[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-gap:16px;gap:16px}.search-container[_ngcontent-%COMP%]   .product-grid.grid4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.search-container[_ngcontent-%COMP%]   .product-grid.grid3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.search-container[_ngcontent-%COMP%]   .product-grid.mini[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.search-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:16px;gap:16px}.search-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;grid-gap:10px;gap:10px;margin-bottom:16px}.search-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px;border-radius:4px;border:1px solid #ccc;min-width:120px;flex:1 1 200px}.search-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 14px;font-size:14px;border:none;border-radius:4px;cursor:pointer;background-color:#1890ff;color:#fff;flex:0 0 auto}.search-panel[_ngcontent-%COMP%]   button.reset[_ngcontent-%COMP%]{background-color:#f5222d}.search-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width: 600px){.search-panel[_ngcontent-%COMP%]{align-items:stretch}.search-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .search-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[d.Bz.forChild(J)],d.Bz]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[a.ez,s.u5,d.Bz,k]]}),t})()}}]);